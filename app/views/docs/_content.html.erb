<h1>
	<% if @project.present? -%>
		<%= link_to "#{@doc.sourcedb}:#{@doc.sourceid}", show_project_sourcedb_sourceid_docs_path(@project.name, @doc.sourcedb, @doc.sourceid) -%>
	<% else -%>
		<%= link_to "#{@doc.sourcedb}:#{@doc.sourceid}", doc_sourcedb_sourceid_show_path(@doc.sourcedb, @doc.sourceid) -%>
	<% end -%>
	<% if @doc.sourcedb == 'PMC' %>
		<% if @project.present? -%>
			(<%= link_to_unless_current "#{@doc.serial}", show_project_sourcedb_sourceid_divs_docs_path(@project.name, @doc.sourcedb, @doc.sourceid, @doc.serial) -%>)
		<% else -%>
			(<%= link_to_unless_current "#{@doc.serial}", doc_sourcedb_sourceid_divs_show_path(@doc.sourcedb, @doc.sourceid, @doc.serial) -%>)
		<% end -%>
	<% end %>
	<% if @span.present? %>
		/ <%= params[:begin] %>-<%= params[:end] %>
	<% end %>
	<span class='tab-bar'>
<!--		<span class='label'>UTF</span>
		<%= link_to_unless_current 'VIEW', params, :class => 'tab' -%>-->
		<%= link_to_unless_current 'JSON', params.merge(format: :json), :class => 'tab' -%>
		<%= link_to_unless_current 'TXT', params.merge(format: :txt), :class => 'tab' -%>
	</span>
<!--
	<span class='tab-bar'>
		<span class='label'>ASCII</span>
		<%= link_to_unless_current 'VIEW', params.merge(encoding: 'ascii'), :class => 'tab' -%>
		<%= link_to_unless_current 'JSON', params.merge(format: :json, encoding: 'ascii'), :class => 'tab' -%>
		<%= link_to_unless_current 'TXT', params.merge(format: :txt, encoding: 'ascii'), :class => 'tab' -%>
	</span>
	-->
</h1>

<table>
<tr><th style="text-align:left">
	<%= @doc.section %>
	<%= '(Title and Abstract)' if @doc.section == 'TIAB' %>
</th></tr>
<tr><td class="text"><%= @content.html_safe %></td><tr>
<tr>
  <td class="linkSpace"></td>
</tr>
</table>

<%= link_to t('views.shared.edit_model', :model => t('activerecord.models.doc')), edit_doc_path(@doc), :class => 'button'  if @doc.updatable_for?(current_user) -%>

<script>
  $('.text').linkToSelectedSpan('.linkSpace');
</script>
