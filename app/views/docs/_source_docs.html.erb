<h1>
	<% if params[:action] == 'search' -%>
		Document search results
	<% else -%>
		<%= t('views.docs.list').capitalize -%>
	<% end -%>
	<span class='info'>(<%= @docs_size -%>)</span>
	<% if @project.present? || params[:action] == 'search' -%>
		<span class='tab-bar'>
			<%= link_to 'JSON', params.merge(format: :json), :class => 'tab' -%>
			<%= link_to 'TSV', params.merge(format: :tsv), :class => 'tab' -%>
		</span>
	<% end -%>
</h1>

<% if @source_docs.present? -%>
  <table class="full">
  <tr>
    <th class="docs_header_sourcedb">
      <% if params[:action] == 'search' -%>
        <%= t('activerecord.attributes.doc.sourcedb') -%>
      <% else -%>
        <%= sortable(Doc, 'sourcedb', t('activerecord.attributes.doc.sourcedb')) %>
      <% end -%>
    </th>
    <th class="docs_header_sourceid">
      <% if params[:action] == 'search' -%>
        <%= t('activerecord.attributes.doc.sourceid') -%>
      <% else -%>
        <%= sortable(Doc, 'sourceid', t('activerecord.attributes.doc.sourceid')) %>
      <% end -%>
    </th>
    <th><%= t('activerecord.attributes.doc.body') %></th>
    <th class="docs_header_projects_number">
      <span title="number of projects">
        <% if params[:action] == 'search' -%>
          #proj.
        <% else -%>
          <%= sortable(Doc, 'projects_count', '#proj.') -%>
        <% end -%>
      </span>
    </th>
    <th class="docs_header_annotations_number">
      <span title="number of annotations">
        <%= t('views.shared.annotations_count') -%>
      </span>
    </th>
    <th style="width:12em"></th>
  </tr>

	<%= render partial: 'source_doc', collection: @source_docs -%>

	</table>
	<%= will_paginate @source_docs -%>
<% else %>
<span class="meta">Listing the documents is disabled since there are too many.</span>
<% end -%>
