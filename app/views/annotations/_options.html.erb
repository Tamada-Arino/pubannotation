<table style="border-color:#FFFFFF">
<tr>
	<th>See</th>
	<td>in</td>
	<td>[<%= link_to "Table", annotation_url %>]</td>
	<% unless @annset.viewer.empty? %>
	<td>[<a href="<%= @annset.viewer %>?target=<%= annotation_url + '.json' %>">Viewer</a>]</td>
	<% end %>
</tr>
<tr>
	<th>Get</th>
	<td>in</td>
	<td>[<%= link_to "JSON",  annotation_url + '.json' %>]</td>

	<script type="text/javascript">
		function getconversion(name) {
			xmlhttp = new XMLHttpRequest();
			xmlhttp.open('GET', '<%= annotation_url %>' + '.json', false);
			xmlhttp.send();
			var json = xmlhttp.responseText;
			document.getElementById(name).children[2].setAttribute("value", json);
			document.forms[name].submit();
		}
	</script>

	<% unless @annset.rdfwriter.empty? %>
		<td>
			<%= form_tag(annset.rdfwriter, :method => "post", :id => "getrdf") do %>
				<%= hidden_field_tag(:identifier, identifier) %>
				<%= hidden_field_tag(:data, "") %>
				[<a onclick="getconversion('getrdf')" href="#">RDF</a>]
			<% end %>
		</td>
	<% end %>

	<% unless @annset.xmlwriter.empty? %>
		<td>
			<%= form_tag(annset.xmlwriter, :method => "post", :id => "getxml") do %>
				<%= hidden_field_tag(:identifier, identifier) %>
				<%= hidden_field_tag(:data, "") %>
				[<a onclick="getconversion('getxml')" href="#">XML</a>]
			<% end %>
		</td>
	<% end %>

	<% unless @annset.bionlpwriter.empty? %>
		<td>
			<%= form_tag(annset.bionlpwriter, :method => "post", :id => "getbionlp") do %>
				<%= hidden_field_tag(:identifier, identifier) %>
				<%= hidden_field_tag(:data, "") %>
				[<a onclick="getconversion('getbionlp')" href="#">BioNLP-ST</a>]
			<% end %>
		</td>
	<% end %>

</tr>
<% if user_signed_in? and current_user == @annset.user %>
	<% unless @annset.editor.empty? %>
		<tr>
			<th>Edit</th>
			<td>in</td>
			<td>[<a href="<%= @annset.editor %>?target=<%= annotation_url + '.json' %>">Editor</a>]</td>
		</tr>
	<% end %>
<% end %>
</table>
